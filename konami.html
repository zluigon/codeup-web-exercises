<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Konami Code</title>
	
	<style>
		* {
			padding: 0;
			margin: 0;
		}
		
		body {
			background-color: #DDDDDD;
		}
		
		h1 {
			text-align: center;
			font-size: 4rem;
			margin-top: 12rem;
		}
		
		span {
			text-decoration: underline;
		}
		
		p {
			text-align: center;
			font-size: 2rem;
			margin-top: 2rem;
		}
		
		p:nth-child(3) {
			font-size: 5em;
			color: #DDDDDD;
		}
		
		p:nth-child(4) {
			font-size: 1em;
			color: #DDDDDD;
		}
	</style>
</head>
<body>
<h1>Enter the <span>Konami</span> Code</h1>

<p>Click on the page to focus and use keyboard to enter. </p>

<p>Congratulations!!!</p>
<p>Refresh to reset.</p>

<script src="https://code.jquery.com/jquery-3.6.3.min.js"
        integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous">
</script>

<script>
	"use strict";
	
	$("span").hover(
			function () {
				$(this).css("color", "red")
			},
			function () {
				$(this).css("color", "black")
			}).dblclick(function () {
		alert("↑ ↑ ↓ ↓ ← → ← → b a enter")
	});
	
	let keyPress = [];
	let konamiCode = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65, 13];
	
	$(document).keyup(function (e) {
		keyPress.push(e.keyCode);
		console.log(e.keyCode);
		if (e.keyCode === 13) {
			checkCode(keyPress)
		}
	});
	
	function checkCode(keyPress) {
		if (keyPress.join(",") === konamiCode.join(",")) {
			$(function () {
				alert("Congratulations!")
				$("body").css("background-color", "darkred");
			});
		} else {
			$(function () {
				alert("Please try again.")
				window.location.reload();
			});
		}
	}


</script>
</body>
</html>


